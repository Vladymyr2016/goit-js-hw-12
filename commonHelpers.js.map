{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector('.feedback-form');\nconst listEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst modal = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n});\nfunction fetchImage(q) {\n  const API_KEY = '42040031-47a3b216d4f97a43df3da958a';\n  const PARAMS = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const BASE_URL = 'https://pixabay.com/api';\n  const url = `${BASE_URL}/?${PARAMS}`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  loader.classList.remove('is-hidden');\n  listEl.innerHTML = '';\n  const serchQuery = e.currentTarget.elements.search.value.trim();\n  fetchImage(serchQuery)\n    .then(response => {\n      if (response.hits.length === 0) {\n        iziToast.error({\n          position: 'center',\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      listEl.innerHTML = markUp(response.hits);\n      modal.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}\n\nfunction markUp(arr) {\n  return arr\n    .map(\n      ({ webformatURL, largeImageURL, tags, comments, likes, downloads }) => {\n        return `<li class=\"item\"> \n     <a href='${largeImageURL}'><img class=\"image\" src=\"${webformatURL}\" alt=\"\" /></a>\n     <div class=\"box-text\"> \n     <div>\n     <h2 class=\"main-text\">comments</h2>\n      <p class=\"text\">${comments}</p>\n      </div>\n      <div>\n      <h2 class=\"main-text\">tags</h2>\n      <p class=\"text\">${tags}</p>\n     </div>\n     <div>\n      <h2class=\"main-text\">likes</h2class=>\n      <p class=\"text\">${likes}</p>\n      </div>\n      <div>\n      <h2 class=\"main-text\">downloads</h2>\n      <p class=\"text\">${downloads}</p>\n      </div>\n      </div>\n      </li>`;\n      }\n    )\n    .join('');\n}\n"],"names":["formEl","listEl","loader","modal","SimpleLightbox","fetchImage","q","API_KEY","url","response","onSubmit","e","serchQuery","iziToast","markUp","error","arr","webformatURL","largeImageURL","tags","comments","likes","downloads"],"mappings":"6vBAKA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,IAAIC,EAAe,aAAc,CAC7C,aAAc,IACd,SAAU,GACV,aAAc,MACd,gBAAiB,QACnB,CAAC,EACD,SAASC,EAAWC,EAAG,CACrB,MAAMC,EAAU,qCASVC,EAAM,4BARG,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAGD,OAAO,MAAME,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEAT,EAAO,iBAAiB,SAAUU,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChBT,EAAO,UAAU,OAAO,WAAW,EACnCD,EAAO,UAAY,GACnB,MAAMW,EAAaD,EAAE,cAAc,SAAS,OAAO,MAAM,OACzDN,EAAWO,CAAU,EAClB,KAAKH,GAAY,CACZA,EAAS,KAAK,SAAW,GAC3BI,EAAS,MAAM,CACb,SAAU,SACV,MAAO,QACP,QACE,0EACZ,CAAS,EAEHZ,EAAO,UAAYa,EAAOL,EAAS,IAAI,EACvCN,EAAM,QAAO,CACnB,CAAK,EACA,MAAMY,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbb,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CAEA,SAASY,EAAOE,EAAK,CACnB,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,SAAAC,EAAU,MAAAC,EAAO,UAAAC,KAC9C;AAAA,gBACCJ,8BAA0CD;AAAA;AAAA;AAAA;AAAA,wBAIlCG;AAAA;AAAA;AAAA;AAAA,wBAIAD;AAAA;AAAA;AAAA;AAAA,wBAIAE;AAAA;AAAA;AAAA;AAAA,wBAIAC;AAAA;AAAA;AAAA,YAKnB,EACA,KAAK,EAAE,CACZ"}